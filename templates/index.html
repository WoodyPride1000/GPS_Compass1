<!DOCTYPE html>
<html lang="ja">
<head>
    <link rel="stylesheet" href="/static/styles.css" />
    
</head>
<body>
    <!-- リアルタイム情報表示ボックス -->
    <div class="info-box overlay-box">
        <div>緯度: <span id="baseLat">--</span></div>
        <div>経度: <span id="baseLon">--</span></div>
        <div>HDOP（基準局）: <span id="hdopBase">--</span></div>
        <div>HDOP（移動局）: <span id="hdopRover">--</span></div>
        <div>品質（基準局）: <span id="qualityBase">--</span></div>
        <div>品質（移動局）: <span id="qualityRover">--</span></div>
        <div>方位角（融合）: <span id="headingFused">--</span>°</div>
        <div>方位角（GPS）: <span id="headingGPS">--</span>°</div>
        <div>方位角ずれ: <span id="headingDiff">--</span>°</div>
        <div>基線長: <span id="distance">--</span> m</div>
        <div>基線誤差: <span id="error">--</span> m</div>
        <div>IMU使用: <span id="imuStatus">--</span></div>
        <div>IMU Z軸角速度: <span id="imuRawGyroZ">--</span> °/s</div>
        <div>ジャイロZオフセット: <span id="gyroZOffset">--</span> °/s</div>
        <div id="baseConnected">基準局接続: <span class="status-ng">切断</span></div>
        <div id="roverConnected">移動局接続: <span class="status-ng">切断</span></div>
        <div>基準局ポートエラー: <span id="basePortErrors">0</span></div>
        <div>基準局シリアルエラー: <span id="baseSerialErrors">0</span></div>
        <div>移動局ポートエラー: <span id="roverPortErrors">0</span></div>
        <div>移動局シリアルエラー: <span id="roverSerialErrors">0</span></div>
        <div>ダミーモード: <span id="dummyMode">--</span></div>
        <div>ログレベル: <span id="logLevel">--</span></div>
        <div id="status-message" style="color: blue; font-weight: bold; grid-column: 1 / span 2;"></div>
    </div>

    <!-- コントロールボックス -->
    <div class="control-box overlay-box">
        <label>
            <input type="checkbox" id="followMapCheckbox" checked aria-label="地図追従を有効にする">
            地図追従
        </label>
        <label>
            <input type="checkbox" id="gridCheckbox" checked aria-label="グリッド線を表示する">
            グリッド線表示
        </label>
        <label for="coordSystemSelect">座標系:</label>
        <select id="coordSystemSelect" aria-label="座標系の選択">
            <option value="wgs84">緯度経度</option>
            <option value="utm">UTM</option>
            <option value="jgd2011">平面直角座標</option>
        </select>
        <button id="calibrateButton">IMUキャリブレーション開始</button>
        <label for="logLevelSelect">ログレベル:</label>
        <select id="logLevelSelect" aria-label="ログレベル選択">
            <option value="DEBUG">DEBUG</option>
            <option value="INFO" selected>INFO</option>
            <option value="WARNING">WARNING</option>
            <option value="ERROR">ERROR</option>
            <option value="CRITICAL">CRITICAL</option>
        </select>
        <button id="setLogLevelButton">ログレベル設定</button>
        <button id="nmeaToggleButton">NMEA表示 ON/OFF</button>
        <button id="placeSymbolButton">シンボル配置</button>
    </div>

    <!-- スライダーボックス -->
    <div class="slider-box overlay-box">
        <label for="fanSlider">角度幅: <span id="fanValue">45</span>°</label><br>
        <input type="range" id="fanSlider" min="0" max="90" value="45" aria-label="扇形の角度を調整">
    </div>

    <!-- グラフコンテナ -->
    <div id="graph-container" class="overlay-box">
        <h3>IMU Z軸安定度 (方位角別)</h3>
        <canvas id="azimuthChart"></canvas>
    </div>

    <!-- NMEA表示コンテナ -->
    <div id="nmea-container" class="overlay-box">
        <h3>NMEAデータ</h3>
        <textarea id="nmea-output" readonly></textarea>
    </div>

    <!-- シンボル情報コンテナ -->
    <div id="symbol-info-container" class="overlay-box">
        <h3>配置済みシンボル情報</h3>
        <ul id="symbol-list" class="symbol-list">
            <!-- シンボル情報がここに動的に追加されます -->
        </ul>
    </div>

    <!-- 地図コンテナ -->
    <div id="map"></div>

    <!-- 外部JavaScriptライブラリ -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.7.5/proj4.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-geometryutil@0.9.1/src/leaflet.geometryutil.js"></script>


<script src="/static/script.js"></script>
    
</body>
</html>
